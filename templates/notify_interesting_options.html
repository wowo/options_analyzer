<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Table</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-4">
    <div class="mx-auto">
        <table class="min-w-full">
            <thead>
                <tr class="w-full h-16 border-gray-300 border-b text-gray-100 bg-gray-600">
                    <th class="p-2">Symbol</th>
                    <th class="p-2">Price</th>
                    <th class="p-2">Strike</th>
                    <th class="p-2">Expiration</th>
                    <th class="p-2">Bid</th>
                    <th class="p-2">IV</th>
                    <th class="p-2">Financials</th>
                    <th class="p-2">Updated</th>
                </tr>
            </thead>
            <tbody class="[&>*:nth-child(even)]:bg-gray-100 [&>*:nth-child(odd)]:bg-gray-300">
                {% for row in data %}
                    <tr class="w-full border-b">
                        <td class="p-2">
                            <a href="https://finance.yahoo.com/quote/{{ row.contract_symbol }}" class="font-bold">{{ row.symbol }}</a><br>
                            <small class="font-semibold">{{ row.long_name }}</small><br>
                            <small>{{ row.industry }} &raquo; {{ row.sector }}</small>
                        </td>
                        <td class="p-2">{{ row.current_price }}</td>
                        <td class="p-2">{{ row.strike }}<br><small>({{ (((row.current_price - row.strike) / row.current_price) * 100) | int }}%)</small></td>
                        <td class="p-2">{{ row.expiration }}<br><small>({{ row.days_until_expire }})</small></td>
                        <td class="p-2">{{ row.bid }}<br><small>({{ row.volume | int }})</small></td>
                        <td class="p-2">{{ row.iv }}</td>
                        <td class="p-2 text-xs">
                            EPS &laquo; <span class="font-semibold">{{ (row.trailing_eps or 0) | int }}</span><br>
                            EPS &raquo; <span class="font-semibold">{{ (row.forward_eps or 0) | int }}</span><br>
                            PE &raquo; <span class="font-semibold">{{ (row.forward_pe or 0) |  int }}</span><br>
                            PE &laquo; <span class="font-semibold">{{ (row.trailing_pe or 0) | int }}</span><br>
                            EC&nbsp;<span class="font-semibold">{{ row.next_earnings_date }}</span>
                        </td>
                        <td class="p-2 text-xs">{{ row.updated_at }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>
</html>
